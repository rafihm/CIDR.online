<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Advanced CIDR Calculator</title>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <!-- Material Design Bootstrap -->
    <link href="css/mdb.min.css" rel="stylesheet">
    <!-- Your custom styles (optional) -->
    <link href="css/style.css" rel="stylesheet">




    <style>
      body {
        padding-top: 54px;
      }
      @media (min-width: 992px) {
        body {
          padding-top: 56px;
        }
      }

      #search-bar{
      width: 50%;
      margin: 0 auto;
          }
    #ipOutput1{
      width: 80%;
      margin: 0 auto;
                         word-break:break-all;
         word-wrap: break-word;
      }
    #ipOutput2{
      width: 60%;
      margin: 0 auto;
                         word-break:break-all;
         word-wrap: break-word;
      }
    #banner{
      width: calc(80vh - 15px);
      margin: 0 auto;
      }
    #errorCard{
      width: 65%;
      margin: 0 auto;
      }

    .table-fixed {
    table-layout: fixed;
    overflow: hidden;
    word-wrap: break-word;
}
.primary-text {
  color: #4285F4; }

.danger-text {
  color: #ff3547; }

.warning-text {
  color: #FF8800; }

.success-text {
  color: #00C851; }

.info-text {
  color: #33b5e5; }

.default-text {
  color: #2BBBAD; }

.secondary-text {
  color: #aa66cc; }
        




        .input-group .form-control.added-padding-2 {
    padding-top: 4px;
}
.input-group .form-control.added-padding-3 {
    padding-top: 3px;
}




    </style>

        <script
                src="https://code.jquery.com/jquery-1.12.4.js"
                  integrity="sha256-Qw82+bXyGq6MydymqBxNPYTaUXXq7c8v3CwiYwLLNXU="
                  crossorigin="anonymous"></script>





<script>
function displayOutput(myObj)
    {
        $('#ipOutput1').empty();
        $('#ipOutput2').empty();
        jsonOutput = '{"ip_address_with_network_size":"1.1.1.1\/1","ip_address":{"quads":"1.1.1.1","hex":"01010101","binary":"00000001000000010000000100000001"},"subnet_mask":\{"quads":"128.0.0.0","hex":"80000000","binary":"10000000000000000000000000000000"},"network_portion":\{"quads":"0.0.0.0","hex":"00000000","binary":"00000000000000000000000000000000"},"host_portion":\{"quads":"1.1.1.1","hex":"01010101","binary":"00000001000000010000000100000001"},"network_size":"1","number_of_ip_addresses":2147483648,"number_of_addressable_hosts":2147483646,"ip_address_range":\["0.0.0.0","127.255.255.255"],"broadcast_address":"127.255.255.255","min_host":"0.0.0.1","max_host":"127.255.255.254"}'
        //myObj = JSON.parse(jsonOutput);
        successMessage = '<div id="banner" class="alert alert-success alert-dismissible fade show" role="alert"><strong>Oh yeah! </strong>That was a good CIDR range!<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div style="margin-top:20px"></div>'
        cardHeader1 = '<div class="card"><span class="border border-info">  <h2 class="card-header-title text-center" style="padding-top: 15px;">Subnet Info</h2></span><div class="card-body">\
        <!--Table--><table class="table table-hover table-responsive-md table-fixed text-left">    <col width="80px" /><col width="80px" /><col width="80px" /><col width="120px" /><!--Table head-->'
        tableHead1 = '<thead><tr><th>' + myObj.ip_address_with_network_size + '</th><th>Quads</th><th>Hex</th><th>Binary</th></tr></thead>';
        tableValue1 = '<!--Table body--><tbody>\
                <tr><th scope="row">IP Adress</th><td>' + myObj.ip_address.quads + '</td><td>' + myObj.ip_address.hex + '</td><td >' + myObj.ip_address.binary + '</td></tr>\
                <tr><th scope="row">Subnet Mask</th><td>' + myObj.subnet_mask.quads + '</td><td>' + myObj.subnet_mask.hex + '</td><td>' + myObj.subnet_mask.binary + '</td></tr>\
                <tr><th scope="row">Network Portion</th><td>' + myObj.network_portion.quads + '</td><td>' + myObj.network_portion.hex + '</td><td>' + myObj.network_portion.binary + '</td></tr>\
                <tr><th scope="row">Host Portion</th><td>' + myObj.host_portion.quads + '</td><td>' + myObj.host_portion.hex + '</td><td>' + myObj.host_portion.binary + '</td></tr>\
            </tbody><!--Table body--></table><!--Table--></div></div>';
        
        cardHeader2 = '<div style="margin-top:20px"></div><div class="card"><span class="border border-info">  <h2 class="card-header-title text-center" style="padding-top: 15px;">IP Info</h2></span><div class="card-body">\
        <!--Table--><table class="table table-hover table-responsive-md table-fixed text-left"><col width="80px" /><col width="80px" /><!--Table head-->'
        tableHead2 = '<thead><tr><th>Key</th><th>Value</th></tr></thead>'
        tableValue2 = '<!--Table body--><tbody>\
                <tr><th scope="row">Network Size</th><td>' + myObj.network_size + '</td></tr>\
                <tr><th scope="row">Number Of Addressable Hosts</th><td>' + myObj.number_of_addressable_hosts + '</td></tr>\
                <tr><th scope="row">IP Address Range</th><td>' + myObj.ip_address_range[0] + ' - ' + myObj.ip_address_range[1] + '</td></tr>\
                <tr><th scope="row">Broadcast Address</th><td>' + myObj.broadcast_address + '</td></tr>\
                <tr><th scope="row">Min Host</th><td>' + myObj.min_host + '</td></tr>\
                <tr><th scope="row">Max Host</th><td>' + myObj.max_host + '</td></tr>\
            </tbody><!--Table body--></table><!--Table--></div></div><div style="margin-bottom:20px"></div>'
        document.getElementById("ipOutput1").innerHTML = successMessage + cardHeader1 + tableHead1 + tableValue1;
        document.getElementById("ipOutput2").innerHTML = cardHeader2 + tableHead2 + tableValue2;
        //$('#ipOutput1').load('/cidroutput.php?inCIDR=' + enteredValue);
    }
function ValidateIPaddress(ipaddress)
{
 if (/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])(\/([1-9]|[1-2][0-9]|3[0-2]))$/.test(ipaddress))
   {
      // alert("coooll")
       return (true) //allow access

   }
//alert("You have entered an invalid IP address!")
return (false) //deny access
}


function go() {
var enteredValue = document.getElementById('inputCIDR').value;
var myObj = '';
if(ValidateIPaddress(enteredValue))
    {
        var phpURL = "http://cidr.online/cidroutput.php?inCIDR=" + enteredValue;
	    var xmlhttp = new XMLHttpRequest();
        xmlhttp.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {
                var myObj = JSON.parse(this.responseText);
                displayOutput(myObj);
            }
        };
    xmlhttp.open("GET", phpURL, true);
    xmlhttp.send();
    }
else
    {
        $('#ipOutput1').empty();
        $('#ipOutput2').empty();
        document.getElementById('ipOutput1').innerHTML += '<div id="banner" class="alert alert-danger alert-dismissible fade show" role="alert">\
            <strong>OOOOOH</strong> That was a bad CIDR :(\
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">\
            <span aria-hidden="true">&times;</span>\
            </button>\
            </div>\
            <div style="margin-top:40px"></div>\
            <div id="errorCard" class="card">\
            <h2 class="warning-text card-header-title text-center" style="padding-top: 15px;">Alert!</h2>\
            <hr><div class="card-body">\
            <p class="warning-text text-center">Do you really think you have entered valid CIDR range ?</p><br>\
            <p class="primary-text text-center">Enter the CIDR in the Below Format</p>\
            <p class="primary-text text-center">172.31.13.13/20</p><br></div></div><div style="margin-bottom:20px"></div>';
    }
}

</script>





<script>
    //submits the click when enter pressed
    $(function(){
  $('#search-bar').keypress(function(e){
    if(e.which == 13) {
        document.getElementById("hitme").click();
    }
  })
})

</script>





</head>




<body>

    <!-- Start your project here-->
<!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top">
      <div class="container">
        <a class="navbar-brand" href="#">IPv4 CIDR Calculator</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item active">
              <a class="nav-link" href="/">Home
                <span class="sr-only">(current)</span>
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#"></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#"></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#"></a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Page Content -->

    <div class="container" style="overflow-y:scroll;">
      <div class="row" style="overflow-y:scroll;">
        <div class="col-md text-center col-md-offset-8">
        <div>
          <h1 class="mt-5 text-center">Advanced IPv4 Subnet Or CIDR Calculator</h1>
          <p class="lead text-center">This Subnet/CIDR calculator allows you to enter a IPv4 CIDR range and calculates IP addresses, Network Size, Subnet Mask, Min and Max Host etc. </p><br>
        </div>


    <!-- Grid column -->
    <div class="col-md" id="search-bar">

        <div class="md-form input-group">
            <input type="search" class="form-control added-padding-3" id="inputCIDR" name="inCIDR" placeholder="Enter IPv4 CIDR">
            <span class="input-group-btn">
                <button class="btn btn-primary aqua-gradient my-0" type="button" id="hitme" onclick="go()">Hit Me</button>
            </span>
        </div>

    </div>
    <!-- Grid column -->





  <div id="ipOutput1">




</div>
<div id="ipOutput2">




</div>



          </div>
        </div>
      </div>

    <!-- Bootstrap core JavaScript -->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- /Start your project here-->

    <!-- SCRIPTS -->
    <!-- JQuery -->
    <script type="text/javascript" src="js/jquery-3.3.1.min.js"></script>
    <!-- Bootstrap tooltips -->
    <script type="text/javascript" src="js/popper.min.js"></script>
    <!-- Bootstrap core JavaScript -->
    <script type="text/javascript" src="js/bootstrap.min.js"></script>
    <!-- MDB core JavaScript -->
    <script type="text/javascript" src="js/mdb.min.js"></script>
</body>

</html>
